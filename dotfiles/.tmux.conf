unbind C-b
set -g prefix C-Space
# `prefix prefix` for last active window
bind C-Space last-window

# C-a as prefix key when inside nested tmux session
#unbind -n C-b
#bind -n C-a send-prefix

bind o run-shell "open #{pane_current_path}"

# set vi type keys
setw -g mode-keys vi

# Use vim type keys for navigating between windows
bind h select-pane -L
bind l select-pane -R
bind k select-pane -U
bind j select-pane -D

# Binding r to reload this config file
bind r source-file ~/.tmux.conf \; display "Reloading config..."

# Tmux plugins
set -g @plugin 'tmux-plugins/tmux-resurrect'
# Save every 15mins
set -g @plugin 'tmux-plugins/tmux-continuum'
# 自动恢复 sessions
set -g @continuum-restore 'off'
# you can use `prefix-ctrl-s` to save, `prefix-ctrl-r` to restore

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf
run '~/.tmux/plugins/tpm/tpm'

# allow the title bar to adapt to whatever host you connect to
set -g set-titles on
set -g set-titles-string "#T"

thm_bg="#46525c"
thm_fg="#ffffff"
thm_active="#303841"

# status
set -g status-bg "${thm_bg}"
set -g status-justify "left"
set -g status-left-length "100"
set -g status-right-length "100"
set -g status-left ""
set -g status-right ""

# panes
set -g pane-border-style fg="${thm_fg}"
set -g pane-active-border-style fg="${thm_active}"
# windows
setw -g window-status-activity-style fg="${thm_fg}",bg="${thm_bg}",none
setw -g window-status-separator "  "
setw -g window-status-style fg="${thm_fg}",bg="${thm_bg}",none
setw -g status-left "#{?client_prefix,#[fg=$thm_fg],#[fg=$thm_fg]}[ #S ] "

# enable 256, italic, bold, underscurl, ...
set -g default-terminal "tmux-256color"
set -as terminal-overrides ',xterm*:sitm=\E[3m'
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'  # underscore colours - needs tmux-3.0
